# 5.2 Conditionals

Control token generation with conditional logic. Use `/if`, `/else if`, and `/else` to create dynamic tokens based on conditions.

## Basic Syntax

```tokenscript
baseSize = 16

/matrix
  [mobile, desktop] as breakpoint
    /if {breakpoint} == "mobile"
      // Mobile: ensure minimum 44px touch target
      buttonHeight = calc(max(44, $baseSize * 2.5))
      fontSize = $baseSize
    /else
      // Desktop: proportional, no minimum
      buttonHeight = calc($baseSize * 2.5)  // 40px
      fontSize = $baseSize
```

**Why conditionals are needed:** Mobile requires a minimum touch target size, while desktop uses a direct calculation. The logic changes based on the context.

## Supported Operators

### Comparison

- `==` - Equal
- `!=` - Not equal
- `<` - Less than
- `>` - Greater than
- `<=` - Less than or equal
- `>=` - Greater than or equal

### Membership

- `in` - Value in list
- `not in` - Value not in list

### Logical

- `and` - Logical AND
- `or` - Logical OR
- `not` - Logical NOT

## Using Iterator Variables

Reference iterator aliases in conditions:

```tokenscript
/forEach [xs, sm, md, lg, xl] as size
  /if {size} in ["xs", "sm"]
    multiplier = 0.8
  /else if {size} not in ["xs", "sm", "md"]
    multiplier = 1.5
  /else
    multiplier = 1.0
    
  value = calc($base * $...multiplier)
```

## Using Token References

Reference tokens in conditions:

```tokenscript
baseSize = 16

/forEach [compact, normal, spacious] as density
  /if $baseSize > 14 and {density} == "spacious"
    padding = 32
  /else if {density} == "compact"
    padding = 8
  /else
    padding = 16
```

## Complex Conditions

Combine multiple conditions with logical operators:

```tokenscript
/matrix
  [mobile, tablet, desktop] as device
  [light, dark] as theme
    /if {device} == "mobile" and {theme} == "dark"
      fontSize = 14
      contrast = "high"
    /else if {device} in ["tablet", "desktop"]
      fontSize = 16
      contrast = "normal"
    /else
      fontSize = 15
      contrast = "normal"
```

## Membership Testing

Test if a value is in a list:

```tokenscript
/forEach [xs, sm, md, lg, xl] as size
  /if {size} in ["xs", "sm"]
    category = "small"
  /else if {size} not in ["xs", "sm", "md"]
    category = "large"
  /else
    category = "medium"
```

## Common Use Cases

1. **Size-based logic**: Different values for small vs large sizes
2. **Device-specific**: Mobile vs desktop variations
3. **Theme-aware**: Light vs dark theme adjustments
4. **Tiered systems**: Basic vs premium feature sets
5. **Progressive enhancement**: Conditional values based on capabilities

## Best Practices

1. **Use descriptive conditions**: Make conditions readable and clear
2. **Order matters**: Place most specific conditions first
3. **Always provide else**: Ensure all cases are handled
4. **Test edge cases**: Verify conditions work for all iterator values
5. **Combine with iteration**: Use conditionals within `/forEach` and `/matrix`

## Next Steps

- Learn about [Iteration](./5.1-iteration.md) for generating tokens from lists
- See [References](./2.2-references.md) for accessing collections
- Explore [Expressions](./2.3-expressions.md) for calculations in conditions

